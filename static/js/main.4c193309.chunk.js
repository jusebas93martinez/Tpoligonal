(this["webpackJsonpcalculo-poligonales"]=this["webpackJsonpcalculo-poligonales"]||[]).push([[0],{17:function(e,a,t){},20:function(e,a,t){},21:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(7),o=t.n(r),s=(t(17),t(5)),c=t(3),u=t(8);var i=e=>{let{observacionesCompensadas:a=[]}=e;const[t,r]=Object(n.useState)("blue"),[o,s]=Object(n.useState)(2),[c,i]=Object(n.useState)("red"),[m,d]=Object(n.useState)(10),[p,E]=Object(n.useState)("blue"),[g,h]=Object(n.useState)(!0),[b,v]=Object(n.useState)(!1),y=Math.min(...a.map(e=>parseFloat(e.nuevoEsteAjustado))),N=Math.max(...a.map(e=>parseFloat(e.nuevoEsteAjustado))),x=Math.min(...a.map(e=>parseFloat(e.nuevoNorteAjustado))),F=Math.max(...a.map(e=>parseFloat(e.nuevoNorteAjustado))),C=1.25*(N-y),j=1.25*(F-x),f=Math.min(320/C,550/j),S=(320-(N-y)*f)/2,O=(550-(F-x)*f)/2,A=e=>(e-y)*f+S,k=e=>550-(e-x)*f-O;return l.a.createElement("div",{style:{position:"relative",border:"2px solid black",width:"320px",height:"550px",padding:"10px"}},l.a.createElement("button",{onClick:()=>v(!b),style:{position:"absolute",top:"5px",right:"5px",zIndex:11}},b?"Ocultar Configuraci\xf3n":"Mostrar Configuraci\xf3n"),b&&l.a.createElement("div",{style:{position:"absolute",top:"40px",left:"5px",backgroundColor:"white",padding:"10px",borderRadius:"8px",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.1)",zIndex:10,fontSize:"10px"}},l.a.createElement("label",{style:{display:"block",marginBottom:"5px"}},"Color de la l\xednea:",l.a.createElement("input",{type:"color",value:t,onChange:e=>r(e.target.value),style:{width:"40%",marginTop:"3px"}})),l.a.createElement("label",{style:{display:"block",marginBottom:"5px"}},"Grosor de la l\xednea:",l.a.createElement("input",{type:"number",min:"1",max:"50",value:o,onChange:e=>s(Number(e.target.value)),style:{width:"30%",marginTop:"3px"}})),l.a.createElement("label",{style:{display:"block",marginBottom:"5px"}},"Color del punto:",l.a.createElement("input",{type:"color",value:c,onChange:e=>i(e.target.value),style:{width:"40%",marginTop:"3px"}})),l.a.createElement("label",{style:{display:"block",marginBottom:"5px"}},"Tama\xf1o de la flecha:",l.a.createElement("input",{type:"number",min:"5",max:"40",value:m,onChange:e=>d(Number(e.target.value)),style:{width:"30%",marginTop:"2px"}})),l.a.createElement("label",{style:{display:"block",marginBottom:"5px"}},"Color de la flecha:",l.a.createElement("input",{type:"color",value:p,onChange:e=>E(e.target.value),style:{width:"40%",marginTop:"3px"}})),l.a.createElement("label",{style:{display:"block",marginBottom:"5px"}},"Mostrar flecha:",l.a.createElement("input",{type:"checkbox",checked:g,onChange:e=>h(e.target.checked),style:{marginTop:"3px"}}))),l.a.createElement(u.a,{width:320,height:550,background:"transparent",tool:"auto",detectAutoPan:!1,toolbarProps:{position:"none"},miniatureProps:{position:"none"}},l.a.createElement("div",{style:{position:"relative",width:"320px",height:"550px"}},l.a.createElement("button",{onClick:()=>v(!b),style:{position:"absolute",top:"-35px",left:"50%",transform:"translateX(-50%)",backgroundColor:"#007bff",color:"white",border:"none",padding:"10px 20px",borderRadius:"8px",cursor:"pointer",zIndex:10}},b?"Ocultar Configuraci\xf3n":"Mostrar Configuraci\xf3n"),l.a.createElement("svg",{width:320,height:550,style:{border:"0.6px solid black",zIndex:1}},l.a.createElement("defs",null,l.a.createElement("marker",{id:"arrow",markerWidth:m,markerHeight:m,refX:"10",refY:"3",orient:"auto",markerUnits:"strokeWidth"},l.a.createElement("path",{d:"M0,0 L0,6 L9,3 z",fill:p}))),Array.from({length:Math.ceil(3.2)}).map((e,a)=>l.a.createElement("line",{key:"v-grid-"+a,x1:100*a,y1:0,x2:100*a,y2:550,stroke:"#d3d3d3",strokeWidth:"1"})),Array.from({length:Math.ceil(5.5)}).map((e,a)=>l.a.createElement("line",{key:"h-grid-"+a,x1:0,y1:100*a,x2:320,y2:100*a,stroke:"#d3d3d3",strokeWidth:"1"})),a.map((e,a)=>{const t=A(parseFloat(e.nuevoEsteAjustado)),n=k(parseFloat(e.nuevoNorteAjustado));return l.a.createElement("g",{key:a},l.a.createElement("circle",{cx:t,cy:n,r:"6",fill:c,"data-tooltip-id":"tooltip-"+a,"data-tooltip-content":`ID: ${e.id}, Norte: ${e.nuevoNorteAjustado}, Este: ${e.nuevoEsteAjustado}`,style:{cursor:"pointer"}}),l.a.createElement("text",{x:t+5,y:n-5,fontSize:"12",fill:"black"},e.id))}),a.map((e,n)=>{if(n<a.length-1){const r=A(parseFloat(e.nuevoEsteAjustado)),s=k(parseFloat(e.nuevoNorteAjustado)),c=A(parseFloat(a[n+1].nuevoEsteAjustado)),u=k(parseFloat(a[n+1].nuevoNorteAjustado));return l.a.createElement("line",{key:n,x1:r,y1:s,x2:c,y2:u,stroke:t,strokeWidth:o,markerEnd:g?"url(#arrow)":null})}return null}),a.length>2&&l.a.createElement("line",{x1:A(parseFloat(a[a.length-1].nuevoEsteAjustado)),y1:k(parseFloat(a[a.length-1].nuevoNorteAjustado)),x2:A(parseFloat(a[0].nuevoEsteAjustado)),y2:k(parseFloat(a[0].nuevoNorteAjustado)),stroke:t,strokeWidth:o,markerEnd:g?"url(#arrow)":null})))))};var m=e=>{let{agregarObservacion:a}=e;const[t,r]=Object(n.useState)(""),[o,s]=Object(n.useState)(""),[c,u]=Object(n.useState)(""),[m,d]=Object(n.useState)(""),[p,E]=Object(n.useState)(null),[g,h]=Object(n.useState)(null),[b,v]=Object(n.useState)(!1),[y,N]=Object(n.useState)(""),[x,F]=Object(n.useState)(""),[C,j]=Object(n.useState)(""),[f,S]=Object(n.useState)(""),[O,A]=Object(n.useState)(""),[k,I]=Object(n.useState)(""),[M,P]=Object(n.useState)(""),[$,z]=Object(n.useState)(""),[w,D]=Object(n.useState)(null),[V,T]=Object(n.useState)(0),[B,H]=Object(n.useState)(0),[q,R]=Object(n.useState)(0),[W,L]=Object(n.useState)("internos"),[U,X]=Object(n.useState)([]),[Y,G]=Object(n.useState)(!1),[J,K]=Object(n.useState)(0),[Q,Z]=Object(n.useState)(""),[_,ee]=Object(n.useState)(""),[ae,te]=Object(n.useState)([]),ne=e=>{if(0===e.length)return K(0),0;const a=(Y?e.slice(1):e).reduce((e,a)=>e+parseFloat(a.distanciaVertical)+parseFloat(a.alturaInstrumental)-parseFloat(a.alturaPrisma),0);console.log("\nSumatoria de Distancias Verticales Calculadas: "+a.toFixed(4));const t=a.toFixed(4);return K(t),console.log("Cierre de alturas calculado: "+t),parseFloat(t)},le=(e,a)=>{const t=e.length;if(0===t)return;let n,l={grados:0,minutos:0,segundos:0},r=0,o=!1;e.forEach(e=>{if(r++,0===r&&Y)return;const a={grados:Number(e.gradosH),minutos:Number(e.minutosH),segundos:Number(e.segundosH)};0===r&&Y&&!o?(l=a,o=!0):l=re(l,a)}),n="internos"===a?{grados:180*(t-2),minutos:0,segundos:0}:{grados:180*(t+2),minutos:0,segundos:0};const s=se(n,l);T(n),H(l),R(s)},re=(e,a)=>{let t=Number(e.segundos)+Number(a.segundos),n=Number(e.minutos)+Number(a.minutos),l=Number(e.grados)+Number(a.grados);return t>=60&&(n+=Math.floor(t/60),t%=60),n>=60&&(l+=Math.floor(n/60),n%=60),{grados:l,minutos:n,segundos:t}},oe=(e,a,t)=>e+a/60+t/3600,se=(e,a)=>{let t,n;oe(e.grados,e.minutos,e.segundos)>=oe(a.grados,a.minutos,a.segundos)?(t=e,n=a):(t=a,n=e);let l=t.segundos-n.segundos,r=t.minutos-n.minutos,o=t.grados-n.grados;return l<0&&(l+=60,r-=1),r<0&&(r+=60,o-=1),{grados:o,minutos:r,segundos:l}},ce=(e,a,t)=>parseFloat(e)+parseFloat(a)/60+parseFloat(t)/3600,ue=e=>{const a=Math.floor(e),t=60*(e-a),n=Math.floor(t);return`${a}\xb0 ${n}' ${Math.round(60*(t-n))}"`},[ie,me]=Object(n.useState)([]),[de,pe]=Object(n.useState)(""),[Ee,ge]=Object(n.useState)(""),[he,be]=Object(n.useState)(0),[ve,ye]=Object(n.useState)(""),Ne=(e,a,t,n)=>{const l=ce(e,a,t),r=Fe(l);return(n*Math.cos(r)).toFixed(4)},xe=(e,a,t,n)=>(parseFloat(e)+parseFloat(t)-parseFloat(n)+parseFloat(a)).toFixed(4),Fe=e=>e*Math.PI/180,Ce=(e,a,t,n)=>{const l=parseFloat(e)+parseFloat(t),r=parseFloat(a)+parseFloat(n);return{nuevoNorte:l.toFixed(4),nuevoEste:r.toFixed(4)}},[je,fe]=Object(n.useState)(0),[Se,Oe]=Object(n.useState)(0),[Ae,ke]=Object(n.useState)(0),[Ie,Me]=Object(n.useState)(0),[Pe,$e]=Object(n.useState)(null),ze=(e,a,t)=>(e/Math.sqrt(Math.pow(a,2)+Math.pow(t,2))).toFixed(4),we=e=>{let a;return a=e<180?e+180:e-180,a>=360&&(a-=360),a.toFixed(4)},De=(e,a)=>{let t=parseFloat(e)+parseFloat(a);return t>=360&&(t-=360),t.toFixed(4)},Ve=(e,a)=>{const t=Ae,n=Ie,l=J,r=(Y?e.slice(1):e).reduce((e,a)=>e+parseFloat(a.distancia),0);return((e,a)=>{let t;Y?(t=parseFloat(e[0].alturaCalculada),console.log(`\n*** Brazo Externo: Usando altura de la primera observaci\xf3n como base: ${t} ***`)):(t=parseFloat(a),console.log(`\n*** Brazo Interno: Usando altura inicial proporcionada: ${t} ***`)),isNaN(t)&&(console.error("Error: Altura inicial no v\xe1lida."),t=0);return e.map((e,a)=>{if(console.log("\nCalculando altura compensada para la observaci\xf3n "+e.id),0===a&&Y)e.alturaCompensada=e.alturaCalculada,console.log("Brazo Externo - Primera observaci\xf3n sin ajuste: "+e.alturaCompensada);else{const a=parseFloat(e.distanciaVerticalCompensada);isNaN(a)?(console.error("Error: La distancia vertical compensada no es v\xe1lida para la observaci\xf3n "+e.id),e.alturaCompensada="NaN"):(t+=a,e.alturaCompensada=t.toFixed(4),console.log(`Altura acumulada y compensada para la observaci\xf3n ${e.id}: ${e.alturaCompensada}`))}return e})})(e.map((e,a)=>{if(0===a&&Y)return e;const t=Math.abs(l)*e.distancia/r,n=parseFloat(e.alturaCalculada1);if(console.log(`Distancia Vertical Original para observaci\xf3n ${e.id}: ${n}`),isNaN(n))console.error("Error: distanciaVertical no es un n\xfamero v\xe1lido",e),e.distanciaVerticalCompensada="NaN";else{const a=l<0?n+t:n-t;console.log(`Distancia Vertical Compensada para observaci\xf3n ${e.id}: ${a}`),e.distanciaVerticalCompensada=a.toFixed(4)}return e}),a).map((e,a)=>{if(0===a&&Y)return{...e,proyeccionNorteCompensada:e.proyeccionNorte,proyeccionEsteCompensada:e.proyeccionEste,alturaCompensada:e.alturaCompensada};const l=t*e.distancia/r,o=n*e.distancia/r,s=parseFloat(e.proyeccionNorte)-l,c=parseFloat(e.proyeccionEste)-o;return{...e,proyeccionNorteCompensada:s.toFixed(4),proyeccionEsteCompensada:c.toFixed(4),alturaCompensada:e.alturaCompensada}})};return l.a.createElement("form",{onSubmit:e=>e.preventDefault(),className:"formulario-observacion"},b?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"tabla-coordenadas"},l.a.createElement("h3",null,"Coordenadas Iniciales"),l.a.createElement("table",{border:"1",style:{marginTop:"10px",width:"100%"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"ID"),l.a.createElement("th",null,"Norte (Y)"),l.a.createElement("th",null,"Este (X)"),l.a.createElement("th",null,"Altura (m)"))),l.a.createElement("tbody",null,ae.map((e,a)=>l.a.createElement("tr",{key:a},l.a.createElement("td",null,e.id),l.a.createElement("td",null,e.norte),l.a.createElement("td",null,e.este),l.a.createElement("td",null,e.altura||"N/A")))))),l.a.createElement("h3",{style:{margin:"5px 0"}},"Azimut Inicial: ",ue(p)),l.a.createElement("h3",{style:{margin:"5px 0"}},"Distancia: ",g,"m"),l.a.createElement("h3",{className:"header",style:{color:"black"}},"Ingresar Observaci\xf3n"),l.a.createElement("div",{className:"row-container"},l.a.createElement("div",{className:"input-group"},l.a.createElement("h4",{className:"header"},"ID Obs"),l.a.createElement("input",{type:"text",placeholder:"ID",value:ve,onChange:e=>ye(e.target.value),className:"input-field"})),l.a.createElement("div",{className:"input-group"},l.a.createElement("h4",{className:"header"},"\xc1ngulo Horizontal"),l.a.createElement("input",{type:"number",placeholder:"Grados",value:y,onChange:e=>N(Number(e.target.value)),className:"input-field"}),l.a.createElement("input",{type:"number",placeholder:"Minutos",value:x,onChange:e=>F(Number(e.target.value)),className:"input-field"}),l.a.createElement("input",{type:"number",placeholder:"Segundos",value:C,onChange:e=>j(Number(e.target.value)),className:"input-field"})),l.a.createElement("div",{className:"input-group"},l.a.createElement("h4",{className:"header"},"\xc1ngulo Vertical"),l.a.createElement("input",{type:"number",placeholder:"Grados",value:f,onChange:e=>S(Number(e.target.value)),className:"input-field"}),l.a.createElement("input",{type:"number",placeholder:"Minutos",value:O,onChange:e=>A(Number(e.target.value)),className:"input-field"}),l.a.createElement("input",{type:"number",placeholder:"Segundos",value:k,onChange:e=>I(Number(e.target.value)),className:"input-field"})),l.a.createElement("div",{className:"input-group"},l.a.createElement("h4",{className:"header"},"Distancia (Metros)"),l.a.createElement("input",{type:"number",placeholder:"Distancia (m)",value:M,onChange:e=>P(e.target.value),className:"input-field"})),l.a.createElement("div",{className:"input-group"},l.a.createElement("h4",{className:"header"},"Altura Instrumental"),l.a.createElement("input",{type:"number",placeholder:"Altura Instrumental (m)",value:de,onChange:e=>pe(e.target.value),className:"input-field"})),l.a.createElement("div",{className:"input-group"},l.a.createElement("h4",{className:"header"},"Altura Prisma"),l.a.createElement("input",{type:"number",placeholder:"Altura Prisma (m)",value:Ee,onChange:e=>ge(e.target.value),className:"input-field"}))),l.a.createElement("button",{type:"button",onClick:()=>{if(void 0===y||void 0===x||void 0===C||void 0===f||void 0===O||void 0===k||""===M||isNaN(M))return void alert("Por favor, completa todos los campos con valores v\xe1lidos.");const e=ce(Number(y),Number(x),Number(C));let a;if(0===je)a=(()=>{const e=ce(y,x,C),a=((e,a)=>{let t=e+a;return t>=360&&(t-=360),t.toFixed(4)})(parseFloat(p),e);return D(a),a})();else{const t=we(Pe);a=De(t,e)}const n=ue(a),{norte:l,este:r}=((e,a)=>{const t=Fe(e),n=Math.cos(t)*a,l=Math.sin(t)*a;return{norte:n.toFixed(4),este:l.toFixed(4)}})(parseFloat(a),parseFloat(M));let s,c;if(0===je)({nuevoNorte:s,nuevoEste:c}=Ce(t,o,l,r));else{const{nuevoNorte:e,nuevoEste:a}=ie[ie.length-1];({nuevoNorte:s,nuevoEste:c}=Ce(e,a,l,r))}const u=Ne(f,O,k,M),i=xe(0===je?$:ie[ie.length-1].alturaCalculada,u,de,Ee),m={id:ve,gradosH:y,minutosH:x,segundosH:C,gradosV:f,minutosV:O,segundosV:k,azimut:n,anguloHorizontal:`${y}\xb0 ${x}' ${C}"`,anguloVertical:`${f}\xb0 ${O}' ${k}"`,distancia:M,distanciaVertical:u,alturaInstrumental:de,alturaPrisma:Ee,proyeccionNorte:l,proyeccionEste:r,nuevoNorte:s,nuevoEste:c,alturaCalculada:i,alturaCalculada1:(parseFloat(de)+parseFloat(u)-parseFloat(Ee)).toFixed(4)};me(e=>{const a=[...e,m];return(e=>{const a=Y?e.slice(1):e;le(a,W),ne(a);const t=a.reduce((e,a)=>e+parseFloat(a.distancia),0),n=a.reduce((e,a)=>e+parseFloat(a.proyeccionNorte),0),l=a.reduce((e,a)=>e+parseFloat(a.proyeccionEste),0);Oe(t),ke(n),Me(l);const r=ze(t,n,l);be(r)})(a),ne(a),a}),Oe(e=>e+parseFloat(M)),ke(e=>e+parseFloat(l)),Me(e=>e+parseFloat(r));const d=ze(Se+parseFloat(M),Ae+parseFloat(l),Ie+parseFloat(r));be(d),$e(parseFloat(a)),fe(je+1),ye(""),N(""),F(""),j(""),S(""),A(""),I(""),P(""),pe(""),ge("")}},"Agregar Observaci\xf3n"),ie.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement("table",{border:"1",cellPadding:"10",cellSpacing:"1"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"id"},"ID"),l.a.createElement("th",{className:"angulo"},"\xc1ngulo H"),l.a.createElement("th",{className:"angulo"},"\xc1ngulo V"),l.a.createElement("th",{className:"distancia"},"Distancia"),l.a.createElement("th",{className:"angulo"},"Azimut"),l.a.createElement("th",{className:"altura"},"Alt Ins"),l.a.createElement("th",{className:"altura"},"Alt Pri"))),l.a.createElement("tbody",null,ie.map((e,a)=>l.a.createElement("tr",{key:a},l.a.createElement("td",null,e.id),l.a.createElement("td",null,e.anguloHorizontal),l.a.createElement("td",null,e.anguloVertical),l.a.createElement("td",null,e.distancia,"m"),l.a.createElement("td",null,e.azimut),l.a.createElement("td",null,e.alturaInstrumental,"m"),l.a.createElement("td",null,e.alturaPrisma,"m"))))),l.a.createElement("br",null)," ",l.a.createElement("table",{border:"1",cellPadding:"10",cellSpacing:"1"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"id"},"ID")," ",l.a.createElement("th",{className:"proyeccion"},"Proy Norte"),l.a.createElement("th",{className:"proyeccion"},"Proy Este"),l.a.createElement("th",{className:"coordenada"},"Norte"),l.a.createElement("th",{className:"coordenada"},"Este"),l.a.createElement("th",{className:"altura"},"Altura")," ")),l.a.createElement("tbody",null,ie.map((e,a)=>{const t=Ne(e.gradosV,e.minutosV,e.segundosV,e.distancia),n=xe(0===a?$:ie[a-1].alturaCalculada,t,e.alturaInstrumental,e.alturaPrisma);return ie[a].alturaCalculada=n,l.a.createElement("tr",{key:a},l.a.createElement("td",null,e.id)," ",l.a.createElement("td",null,e.proyeccionNorte,"m"),l.a.createElement("td",null,e.proyeccionEste,"m"),l.a.createElement("td",null,e.nuevoNorte),l.a.createElement("td",null,e.nuevoEste),l.a.createElement("td",null,n)," ")}))),l.a.createElement("button",{type:"button",onClick:()=>{if(ie.length>0){const e=ie[ie.length-1];Oe(a=>Math.max(0,a-parseFloat(e.distancia))),ke(a=>Math.max(0,a-parseFloat(e.proyeccionNorte))),Me(a=>Math.max(0,a-parseFloat(e.proyeccionEste)));const a=ie.slice(0,-1);me(a);const t=ze(Math.max(0,Se-parseFloat(e.distancia)),Math.max(0,Ae-parseFloat(e.proyeccionNorte)),Math.max(0,Ie-parseFloat(e.proyeccionEste)));if(be(t),fe(je-1),a.length>0){const e=a[a.length-1].azimut,t=ce(...e.split(/[\xb0'"]/).map(e=>parseFloat(e)));$e(t)}else $e(null);le(a,W)}}},"Borrar \xdaltima Observaci\xf3n"),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"resumen-angular"},l.a.createElement("h3",null,"Resumen Angular de la Poligonal"),l.a.createElement("p",null,l.a.createElement("strong",null,"Suma Te\xf3rica:")," ",`${V.grados}\xb0 ${V.minutos}' ${V.segundos}"`),l.a.createElement("p",null,l.a.createElement("strong",null,"Suma Real:")," ",`${B.grados}\xb0 ${B.minutos}' ${B.segundos}"`),l.a.createElement("p",null,l.a.createElement("strong",null,"Error Angular:")," ",`${q.grados}\xb0 ${q.minutos}' ${q.segundos}"`)),l.a.createElement("div",{className:"totales"},l.a.createElement("h3",null,"Totales"),l.a.createElement("p",null,l.a.createElement("strong",null,"Total Distancia:")," ",Se.toFixed(4)," m"),l.a.createElement("p",null,l.a.createElement("strong",null,"Total Proyecci\xf3n Norte:")," ",Ae.toFixed(4)," m"),l.a.createElement("p",null,l.a.createElement("strong",null,"Total Proyecci\xf3n Este:")," ",Ie.toFixed(4)," m"),l.a.createElement("p",null,l.a.createElement("strong",null,"Cierre Alturas:")," ",J," m")),l.a.createElement("div",{className:"precision-poligonal"},l.a.createElement("h3",null,"Precisi\xf3n de la Poligonal"),l.a.createElement("p",null,l.a.createElement("strong",null,"Precisi\xf3n:")," ",he)))),l.a.createElement("button",{type:"button",onClick:()=>{const e=(()=>{if(0===ie.length)return[];const e=(Y?ie.slice(1):ie).length,a=oe(q.grados,q.minutos,q.segundos)/e;return ie.map((e,t)=>{if(0===t&&Y)return{...e,anguloHorizontalCompensado:e.anguloHorizontal};const[n,l,r]=e.anguloHorizontal.split(/[\xb0'"]/).map(parseFloat),o=oe(n,l,r),s=ue(o-a);return{...e,anguloHorizontalCompensado:s}})})(),a=Ve(e,$);X(a)}},"Compensar Poligonal"),U.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null,"Observaciones Compensadas"),l.a.createElement("table",{border:"1"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"ID"),l.a.createElement("th",null,"\xc1ngulo H Compensado"),l.a.createElement("th",null,"Proyecci\xf3n N Compensada"),l.a.createElement("th",null,"Proyecci\xf3n E Compensada"))),l.a.createElement("tbody",null,U.map((e,a)=>l.a.createElement("tr",{key:a},l.a.createElement("td",null,e.id),l.a.createElement("td",null,e.anguloHorizontalCompensado),l.a.createElement("td",null,e.proyeccionNorteCompensada,"m"),l.a.createElement("td",null,e.proyeccionEsteCompensada,"m"))))),l.a.createElement("br",null),l.a.createElement("table",{border:"1"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"ID"),l.a.createElement("th",null,"Norte Ajustado"),l.a.createElement("th",null,"Este Ajustado"),l.a.createElement("th",null,"Altura Compensada"))),l.a.createElement("tbody",null,U.map((e,a)=>{const{nuevoNorteAjustado:n,nuevoEsteAjustado:r}=((e,a,t,n)=>{const l=parseFloat(e)+parseFloat(t),r=parseFloat(a)+parseFloat(n);return{nuevoNorteAjustado:l.toFixed(4),nuevoEsteAjustado:r.toFixed(4)}})(0===a?t:U[a-1].nuevoNorteAjustado,0===a?o:U[a-1].nuevoEsteAjustado,e.proyeccionNorteCompensada,e.proyeccionEsteCompensada);return U[a].nuevoNorteAjustado=n,U[a].nuevoEsteAjustado=r,l.a.createElement("tr",{key:a},l.a.createElement("td",null,e.id),l.a.createElement("td",null,n),l.a.createElement("td",null,r),l.a.createElement("td",null,isNaN(parseFloat(e.alturaCompensada))?"-":parseFloat(e.alturaCompensada).toFixed(3)))}))),l.a.createElement("div",{className:"app-container"},l.a.createElement(i,{observacionesCompensadas:U}),l.a.createElement("div",{style:{position:"absolute",bottom:"10px",right:"10px",fontSize:"12px",color:"gray"}},"By Sebastian Martinez")))):l.a.createElement(l.a.Fragment,null," ",l.a.createElement("div",null,l.a.createElement("label",null,"Sentido de la Poligonal: "),l.a.createElement("select",{value:W,onChange:e=>L(e.target.value)},l.a.createElement("option",{value:"internos"},"\xc1ngulos Internos"),l.a.createElement("option",{value:"externos"},"\xc1ngulos Externos"))),l.a.createElement("div",null,l.a.createElement("label",null,"Tipo de Brazo de la Poligonal: "),l.a.createElement("select",{value:Y?"externo":"interno",onChange:e=>G("externo"===e.target.value)},l.a.createElement("option",{value:"interno"},"Brazo Interno")," ",l.a.createElement("option",{value:"externo"},"Brazo Externo")," ")),l.a.createElement("h3",null,"Descripci\xf3n y Coordenadas del Punto Inicial"),l.a.createElement("input",{type:"text",placeholder:"Descripci\xf3n del Punto Inicial",value:Q,onChange:e=>Z(e.target.value),className:"coordenadas-input"}),l.a.createElement("input",{type:"number",placeholder:"Norte (Y)",value:t,onChange:e=>{const a=e.target.value;/^[0-9]*[.,]?[0-9]*$/.test(a)&&r(a)},required:!0,className:"coordenadas-input"}),l.a.createElement("input",{type:"number",placeholder:"Este (X)",value:o,onChange:e=>{const a=e.target.value;/^[0-9]*[.,]?[0-9]*$/.test(a)&&s(a)},required:!0,className:"coordenadas-input"}),l.a.createElement("input",{type:"number",placeholder:"Altura (m)",value:$,onChange:e=>{const a=e.target.value;/^[0-9]*[.,]?[0-9]*$/.test(a)&&z(a)},required:!0,className:"coordenadas-input"}),l.a.createElement("h3",null,"Descripci\xf3n y Coordenadas del Punto Visado"),l.a.createElement("input",{type:"text",placeholder:"Descripci\xf3n del Punto Visado",value:_,onChange:e=>ee(e.target.value),className:"coordenadas-input"}),l.a.createElement("input",{type:"number",placeholder:"Norte (Y)",value:c,onChange:e=>{const a=e.target.value;/^[0-9]*[.,]?[0-9]*$/.test(a)&&u(a)},required:!0,className:"coordenadas-input"}),l.a.createElement("input",{type:"number",placeholder:"Este (X)",value:m,onChange:e=>{const a=e.target.value;/^[0-9]*[.,]?[0-9]*$/.test(a)&&d(a)},required:!0,className:"coordenadas-input"}),l.a.createElement("button",{type:"button",onClick:()=>{const{azimut:e,distancia:a}=((e,a,t,n)=>{const l=parseFloat(n)-parseFloat(a),r=parseFloat(t)-parseFloat(e);let o=Math.atan2(l,r)*(180/Math.PI);o<0?o+=360:o>=360&&(o-=360);const s=Math.sqrt(l**2+r**2);return{azimut:o.toFixed(4),distancia:s.toFixed(4)}})(t,o,c,m);E(e),h(a);te([{id:Q||"Punto Inicial",norte:t,este:o,altura:$},{id:_||"Punto Visado",norte:c,este:m}]),v(!0)}},"Calcular Azimut y Distancia")))};var d=e=>{let{setIsAuthenticated:a}=e;const[t,r]=Object(n.useState)(""),[o,s]=Object(n.useState)(""),[u,i]=Object(n.useState)(""),m=Object(c.o)(),d=[{username:"admin",password:"1234"},{username:"usuario1",password:"pass1"},{username:"usuario2",password:"pass2"}];return l.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column"}},l.a.createElement("form",{onSubmit:e=>{e.preventDefault();d.find(e=>e.username===t&&e.password===o)?(a(!0),m("/formulario")):i("Usuario o contrase\xf1a incorrectos")},style:{width:"300px",padding:"20px",border:"1px solid #ccc",borderRadius:"10px",backgroundColor:"#f9f9f9"}},l.a.createElement("h2",null,"Iniciar Sesi\xf3n"),u&&l.a.createElement("p",{style:{color:"red"}},u),l.a.createElement("div",{style:{marginBottom:"10px"}},l.a.createElement("label",null,"Usuario:"),l.a.createElement("input",{type:"text",value:t,onChange:e=>r(e.target.value),style:{width:"100%",padding:"8px",marginTop:"5px"},required:!0})),l.a.createElement("div",{style:{marginBottom:"10px"}},l.a.createElement("label",null,"Contrase\xf1a:"),l.a.createElement("input",{type:"password",value:o,onChange:e=>s(e.target.value),style:{width:"100%",padding:"8px",marginTop:"5px"},required:!0})),l.a.createElement("button",{type:"submit",style:{width:"100%",padding:"10px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"}},"Ingresar")),l.a.createElement("p",{style:{marginTop:"20px",color:"#888"}},"Creado por Sebastian Martinez"))};t(20);var p=function(){const[e,a]=Object(n.useState)([]),[t,r]=Object(n.useState)(!1);return l.a.createElement(s.a,{basename:"/Tpoligonal"},l.a.createElement("div",{className:"App"},l.a.createElement("h1",{style:{margin:"5px 0",padding:"0"}},"C\xe1lculo de Poligonal"),l.a.createElement(c.c,null,l.a.createElement(c.a,{path:"/",element:l.a.createElement(d,{setIsAuthenticated:r})}),l.a.createElement(c.a,{path:"/Tpoligonal",element:l.a.createElement(d,{setIsAuthenticated:r})}),l.a.createElement(c.a,{path:"/formulario",element:t?l.a.createElement(m,{agregarObservacion:t=>{a([...e,t])}}):l.a.createElement("p",null,"Debes iniciar sesi\xf3n para ver esta p\xe1gina")}),l.a.createElement(c.a,{path:"*",element:l.a.createElement(d,{setIsAuthenticated:r})}))))};var E=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,22)).then(a=>{let{getCLS:t,getFID:n,getFCP:l,getLCP:r,getTTFB:o}=a;t(e),n(e),l(e),r(e),o(e)})};o.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(p,null))),E()},9:function(e,a,t){e.exports=t(21)}},[[9,1,2]]]);
//# sourceMappingURL=main.4c193309.chunk.js.map